<div class="h-full overflow-y-auto">
  @if (isLoading()) {
  <div class="flex justify-center items-center p-8">
    <ng-icon
      name="lucideMessageCircle"
      size="32"
      class="animate-pulse text-gray-400 dark:text-gray-500"
    />
  </div>
  } @else if (conversations().length === 0) {
  <div class="p-4 md:p-8 text-center text-gray-500 dark:text-gray-400">
    <ng-icon
      name="lucideMessageCircle"
      size="48"
      class="mx-auto mb-2 text-gray-400 dark:text-gray-500"
    />
    <p class="text-sm md:text-base">No conversations yet</p>
    <p class="text-xs md:text-sm mt-1">Search for a user to start chatting</p>
  </div>
  } @else { @for (conversation of conversations(); track conversation.id) {
  <button
    (click)="selectConversation(conversation)"
    [class.bg-blue-50]="selectedConversationId() === conversation.id"
    [class.dark:bg-blue-900]="selectedConversationId() === conversation.id"
    class="w-full px-3 md:px-4 py-3 md:py-4 text-left hover:bg-gray-100 dark:hover:bg-gray-700 active:bg-gray-200 dark:active:bg-gray-600 flex items-center gap-2 md:gap-3 border-b border-gray-200 dark:border-gray-700 transition-colors touch-manipulation"
  >
    <hlm-avatar>
      @if (getAvatarUrl(conversation)) {
      <img [src]="getAvatarUrl(conversation)" hlmAvatarImage [alt]="getDisplayName(conversation)" />
      }
      <span class="text-white bg-destructive" hlmAvatarFallback>{{
        getInitial(conversation)
      }}</span>
    </hlm-avatar>

    <div class="flex-1 min-w-0">
      <div class="font-medium text-sm md:text-base text-gray-900 dark:text-gray-100 truncate">
        {{ getDisplayName(conversation) }}
      </div>
      <div class="text-xs md:text-sm text-gray-500 dark:text-gray-400 truncate">
        {{ getFormattedTime(conversation) }}
      </div>
    </div>
  </button>
  } }
</div>
